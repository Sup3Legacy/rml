let process p n {} =
(*
  let cpt = ref n in
  while (!cpt > 0) do
    pause;
    decr cpt
  done;
  print_int n;
  print_newline()
*)
  for i = n downto 0 do
    print_int i;
    pause
  done;
  print_int n;
  print_newline()

let rec process run_list l {} =
  match l with
  | [] -> nothing
  | p :: l -> run p {} || run (run_list l) {}

let process main {} =
  run (run_list [p 1; p 2; p 3; p 0]) {}
