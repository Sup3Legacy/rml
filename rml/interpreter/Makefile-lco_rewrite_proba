include ../config
include ../configure-tools/Makefile.common

THEAD_TYPE=-thread

RUNTIME=Lco_rewrite_proba
RUNTIME_DIR=lco_rewrite_proba

SRC=	sig_env.ml \
	lco_interpreter.mli \
	lco_rewrite_proba.ml \
	rml_machine.ml \
	rml_machine_hook.ml \
	rml_machine_hook_unix.ml \
	implem_lco_rewrite_proba_record.ml \

RMLLIB_OBJ=	sig_env.cmo \
	lco_rewrite_proba.cmo \
	rml_machine.cmo \
	rml_machine_hook.cmo \
	rml_machine_hook_unix.cmo \
	implem_lco_rewrite_proba_record.cmo \

RMLLIB_INTF = lco_interpreter.cmi $(RMLLIB_OBJ:.cmo=.cmi)

lco_rewrite_proba.cmo: OCAMLFLAGS += -rectypes
lco_rewrite_proba.cmx: OCAMLOPTFLAGS += -rectypes
lco_rewrite_proba.cmi: OCAMLFLAGS += -rectypes
implem_lco_rewrite_proba_record.cmo: OCAMLFLAGS += -rectypes
implem_lco_rewrite_proba_record.cmx: OCAMLOPTFLAGS += -rectypes
implem_lco_rewrite_proba_record.cmi: OCAMLFLAGS += -rectypes
lco_rewrite_proba/rml_list.cmo: OCAMLFLAGS += -rectypes
lco_rewrite_proba/rml_list.cmx: OCAMLOPTFLAGS += -rectypes
lco_rewrite_proba/rml_process_manager.cmo: OCAMLFLAGS += -rectypes
lco_rewrite_proba/rml_process_manager.cmx: OCAMLOPTFLAGS += -rectypes
lco_rewrite_proba/rml_async_body.cmo: OCAMLFLAGS += -rectypes
lco_rewrite_proba/rml_async_body.cmx: OCAMLOPTFLAGS += -rectypes
lco_rewrite_proba/rml_async.cmo: OCAMLFLAGS += -rectypes
lco_rewrite_proba/rml_async.cmx: OCAMLOPTFLAGS += -rectypes


include Makefile-interpreter.common

